#!/usr/bin/env ruby

# Run that script in your apps root.

require 'bundler'
require 'colorize'

APP_ROOT = Bundler.root.to_s

require 'coverfield'
require 'coverfield/report'


# Ensure there are paths to search for
paths = ARGV
paths = [APP_ROOT + '/lib'] if paths.empty?


# Find files
source_files = Coverfield.find_source_files(paths)


# Initialize counter variables
report = Coverfield::Report.new(source_files)
puts report.full_report
